{% extends "base.html" %}
{% block content %}

    <body>
    <section class="w3l-apply-6">
        <div class="apply-info py-5">
            <div class="containerSlim py-lg-5">
                <div class="apply-grids-info widthRegi">
                    <form id="queForm">
                        {% for (qu) in questions %}
                            {% set hideIndex = 2 %}
                            <div class="sideContainer {% if loop.index > hideIndex %} hide{% endif %}">
                                <div class="form-group mb-4">
                                    {% set quesionJson = qu.question %}
                                    <div class="form-group">
                                        <label>{{ loop.index }}.{{ quesionJson.title }}</label>
                                        {% if quesionJson.type=="0" %}
                                            <input type="text" id="{{ qu.id }}"
                                                   name="que_{{ qu.id }}" class="form-control question"
                                                   value="{% if qu.question_answer %}{{ qu.question_answer }}{% endif %}">
                                        {% elif quesionJson.type =="1" %}
                                            <select name="que_{{ qu.id }}">
                                                {% for foo in quesionJson.option %}
                                                    {% if qu.question_answer %}
                                                        <option value="{{ loop.index0 }}"
                                                                {% if loop.index0 == qu.question_answer| int   %}
                                                                selected {% endif %}>  {{ foo }}</option>
                                                    {% else %}
                                                        <option value="{{ loop.index0 }}">{{ foo }}</option>
                                                    {% endif %}
                                                {% endfor %}
                                            </select>
                                        {% elif quesionJson.type =="2" %}
                                            {% for foo in quesionJson.option %}
                                                <span style="white-space: nowrap; color: white">
                                            <input type="checkbox" id="{{ qu.id }}"
                                                    {% if qu.question_answer %}
                                                    {% set my_array = qu.question_answer.split(',') %}
                                                    {% set int_list = my_array | map('int') %}

                                                    {% if loop.index0 in int_list %} checked {% endif %}
                                                    {% endif %}
                                                   name="que_{{ qu.id }}"
                                                   value="{{ loop.index0 }}">{{ foo }}</span>

                                            {% endfor %}
                                        {% elif quesionJson.type=="3" %}
                                            <textarea id="{{ qu.id }}"
                                                      name="que_{{ qu.id }}" class="form-control" class="question"
                                                      style="height: 200px">{% if qu.question_answer %}{{ qu.question_answer }}{% endif %}</textarea>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                        <span onclick="hideQuestions('prev')" id="btnPrev" class="btn btn-primary hide">Previous </span>
                        <span onclick="hideQuestions('next')" id="btnNext" class="btn btn-primary">Next </span>
                        <span onclick="submitQA()" id="submitQABtn" class="btn btn-primary hide">Submit </span>


                    </form>

                </div>
            </div>
        </div>
        </div>
    </section>
    </body>

{% endblock %}
